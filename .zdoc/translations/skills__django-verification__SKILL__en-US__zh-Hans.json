{
  "sourceFile": "skills/django-verification/SKILL.md",
  "sourceLanguage": "en-US",
  "entries": [
    {
      "en-US": "---\nname: django-verification\ndescription: Verification loop for Django projects: migrations, linting, tests with coverage, security scans, and deployment readiness checks before release or PR.\n---",
      "zh-Hans": "---\nname: django-verification\ndescription: Verification loop for Django projects: migrations, linting, tests with coverage, security scans, and deployment readiness checks before release or PR.\n---"
    },
    {
      "en-US": "# Django Verification Loop",
      "zh-Hans": "# Django 验证循环"
    },
    {
      "en-US": "Run before PRs, after major changes, and pre-deploy to ensure Django application quality and security.",
      "zh-Hans": "在发起 PR 之前、进行重大更改之后以及部署之前运行，以确保 Django 应用程序的质量和安全性。"
    },
    {
      "en-US": "## Phase 1: Environment Check",
      "zh-Hans": "## 阶段 1: 环境检查"
    },
    {
      "en-US": "```bash\n# Verify Python version\npython --version  # Should match project requirements\n\n# Check virtual environment\nwhich python\npip list --outdated\n\n# Verify environment variables\npython -c \"import os; import environ; print('DJANGO_SECRET_KEY set' if os.environ.get('DJANGO_SECRET_KEY') else 'MISSING: DJANGO_SECRET_KEY')\"\n```",
      "zh-Hans": "```bash\n# Verify Python version\npython --version  # Should match project requirements\n\n# Check virtual environment\nwhich python\npip list --outdated\n\n# Verify environment variables\npython -c \"import os; import environ; print('DJANGO_SECRET_KEY set' if os.environ.get('DJANGO_SECRET_KEY') else 'MISSING: DJANGO_SECRET_KEY')\"\n```"
    },
    {
      "en-US": "If environment is misconfigured, stop and fix.",
      "zh-Hans": "如果环境配置错误，请停止并修复。"
    },
    {
      "en-US": "## Phase 2: Code Quality & Formatting",
      "zh-Hans": "## 阶段 2: 代码质量与格式化"
    },
    {
      "en-US": "```bash\n# Type checking\nmypy . --config-file pyproject.toml\n\n# Linting with ruff\nruff check . --fix\n\n# Formatting with black\nblack . --check\nblack .  # Auto-fix\n\n# Import sorting\nisort . --check-only\nisort .  # Auto-fix\n\n# Django-specific checks\npython manage.py check --deploy\n```",
      "zh-Hans": "```bash\n# Type checking\nmypy . --config-file pyproject.toml\n\n# Linting with ruff\nruff check . --fix\n\n# Formatting with black\nblack . --check\nblack .  # Auto-fix\n\n# Import sorting\nisort . --check-only\nisort .  # Auto-fix\n\n# Django-specific checks\npython manage.py check --deploy\n```"
    },
    {
      "en-US": "Common issues:",
      "zh-Hans": "常见问题："
    },
    {
      "en-US": "- Missing type hints on public functions\n- PEP 8 formatting violations\n- Unsorted imports\n- Debug settings left in production configuration",
      "zh-Hans": "* 公共函数缺少类型提示\n* 违反 PEP 8 格式规范\n* 导入未排序\n* 生产配置中遗留调试设置"
    },
    {
      "en-US": "## Phase 3: Migrations",
      "zh-Hans": "## 阶段 3: 数据库迁移"
    },
    {
      "en-US": "```bash\n# Check for unapplied migrations\npython manage.py showmigrations\n\n# Create missing migrations\npython manage.py makemigrations --check\n\n# Dry-run migration application\npython manage.py migrate --plan\n\n# Apply migrations (test environment)\npython manage.py migrate\n\n# Check for migration conflicts\npython manage.py makemigrations --merge  # Only if conflicts exist\n```",
      "zh-Hans": "```bash\n# Check for unapplied migrations\npython manage.py showmigrations\n\n# Create missing migrations\npython manage.py makemigrations --check\n\n# Dry-run migration application\npython manage.py migrate --plan\n\n# Apply migrations (test environment)\npython manage.py migrate\n\n# Check for migration conflicts\npython manage.py makemigrations --merge  # Only if conflicts exist\n```"
    },
    {
      "en-US": "Report:",
      "zh-Hans": "报告："
    },
    {
      "en-US": "- Number of pending migrations\n- Any migration conflicts\n- Model changes without migrations",
      "zh-Hans": "* 待应用的迁移数量\n* 任何迁移冲突\n* 模型更改未生成迁移"
    },
    {
      "en-US": "## Phase 4: Tests + Coverage",
      "zh-Hans": "## 阶段 4: 测试与覆盖率"
    },
    {
      "en-US": "```bash\n# Run all tests with pytest\npytest --cov=apps --cov-report=html --cov-report=term-missing --reuse-db\n\n# Run specific app tests\npytest apps/users/tests/\n\n# Run with markers\npytest -m \"not slow\"  # Skip slow tests\npytest -m integration  # Only integration tests\n\n# Coverage report\nopen htmlcov/index.html\n```",
      "zh-Hans": "```bash\n# Run all tests with pytest\npytest --cov=apps --cov-report=html --cov-report=term-missing --reuse-db\n\n# Run specific app tests\npytest apps/users/tests/\n\n# Run with markers\npytest -m \"not slow\"  # Skip slow tests\npytest -m integration  # Only integration tests\n\n# Coverage report\nopen htmlcov/index.html\n```"
    },
    {
      "en-US": "Report:",
      "zh-Hans": "报告："
    },
    {
      "en-US": "- Total tests: X passed, Y failed, Z skipped\n- Overall coverage: XX%\n- Per-app coverage breakdown",
      "zh-Hans": "* 总测试数：X 通过，Y 失败，Z 跳过\n* 总体覆盖率：XX%\n* 按应用划分的覆盖率明细"
    },
    {
      "en-US": "Coverage targets:",
      "zh-Hans": "覆盖率目标："
    },
    {
      "en-US": "| Component | Target |\n|-----------|--------|\n| Models | 90%+ |\n| Serializers | 85%+ |\n| Views | 80%+ |\n| Services | 90%+ |\n| Overall | 80%+ |",
      "zh-Hans": "| 组件 | 目标 |\n|-----------|--------|\n| 模型 | 90%+ |\n| 序列化器 | 85%+ |\n| 视图 | 80%+ |\n| 服务 | 90%+ |\n| 总体 | 80%+ |"
    },
    {
      "en-US": "## Phase 5: Security Scan",
      "zh-Hans": "## 阶段 5: 安全扫描"
    },
    {
      "en-US": "```bash\n# Dependency vulnerabilities\npip-audit\nsafety check --full-report\n\n# Django security checks\npython manage.py check --deploy\n\n# Bandit security linter\nbandit -r . -f json -o bandit-report.json\n\n# Secret scanning (if gitleaks is installed)\ngitleaks detect --source . --verbose\n\n# Environment variable check\npython -c \"from django.core.exceptions import ImproperlyConfigured; from django.conf import settings; settings.DEBUG\"\n```",
      "zh-Hans": "```bash\n# Dependency vulnerabilities\npip-audit\nsafety check --full-report\n\n# Django security checks\npython manage.py check --deploy\n\n# Bandit security linter\nbandit -r . -f json -o bandit-report.json\n\n# Secret scanning (if gitleaks is installed)\ngitleaks detect --source . --verbose\n\n# Environment variable check\npython -c \"from django.core.exceptions import ImproperlyConfigured; from django.conf import settings; settings.DEBUG\"\n```"
    },
    {
      "en-US": "Report:",
      "zh-Hans": "报告："
    },
    {
      "en-US": "- Vulnerable dependencies found\n- Security configuration issues\n- Hardcoded secrets detected\n- DEBUG mode status (should be False in production)",
      "zh-Hans": "* 发现易受攻击的依赖项\n* 安全配置问题\n* 检测到硬编码的密钥\n* DEBUG 模式状态（生产环境中应为 False）"
    },
    {
      "en-US": "## Phase 6: Django Management Commands",
      "zh-Hans": "## 阶段 6: Django 管理命令"
    },
    {
      "en-US": "```bash\n# Check for model issues\npython manage.py check\n\n# Collect static files\npython manage.py collectstatic --noinput --clear\n\n# Create superuser (if needed for tests)\necho \"from apps.users.models import User; User.objects.create_superuser('admin@example.com', 'admin')\" | python manage.py shell\n\n# Database integrity\npython manage.py check --database default\n\n# Cache verification (if using Redis)\npython -c \"from django.core.cache import cache; cache.set('test', 'value', 10); print(cache.get('test'))\"\n```",
      "zh-Hans": "```bash\n# Check for model issues\npython manage.py check\n\n# Collect static files\npython manage.py collectstatic --noinput --clear\n\n# Create superuser (if needed for tests)\necho \"from apps.users.models import User; User.objects.create_superuser('admin@example.com', 'admin')\" | python manage.py shell\n\n# Database integrity\npython manage.py check --database default\n\n# Cache verification (if using Redis)\npython -c \"from django.core.cache import cache; cache.set('test', 'value', 10); print(cache.get('test'))\"\n```"
    },
    {
      "en-US": "## Phase 7: Performance Checks",
      "zh-Hans": "## 阶段 7: 性能检查"
    },
    {
      "en-US": "```bash\n# Django Debug Toolbar output (check for N+1 queries)\n# Run in dev mode with DEBUG=True and access a page\n# Look for duplicate queries in SQL panel\n\n# Query count analysis\ndjango-admin debugsqlshell  # If django-debug-sqlshell installed\n\n# Check for missing indexes\npython manage.py shell << EOF\nfrom django.db import connection\nwith connection.cursor() as cursor:\n    cursor.execute(\"SELECT table_name, index_name FROM information_schema.statistics WHERE table_schema = 'public'\")\n    print(cursor.fetchall())\nEOF\n```",
      "zh-Hans": "```bash\n# Django Debug Toolbar output (check for N+1 queries)\n# Run in dev mode with DEBUG=True and access a page\n# Look for duplicate queries in SQL panel\n\n# Query count analysis\ndjango-admin debugsqlshell  # If django-debug-sqlshell installed\n\n# Check for missing indexes\npython manage.py shell << EOF\nfrom django.db import connection\nwith connection.cursor() as cursor:\n    cursor.execute(\"SELECT table_name, index_name FROM information_schema.statistics WHERE table_schema = 'public'\")\n    print(cursor.fetchall())\nEOF\n```"
    },
    {
      "en-US": "Report:",
      "zh-Hans": "报告："
    },
    {
      "en-US": "- Number of queries per page (should be < 50 for typical pages)\n- Missing database indexes\n- Duplicate queries detected",
      "zh-Hans": "* 每页查询次数（典型页面应 < 50）\n* 缺少数据库索引\n* 检测到重复查询"
    },
    {
      "en-US": "## Phase 8: Static Assets",
      "zh-Hans": "## 阶段 8: 静态资源"
    },
    {
      "en-US": "```bash\n# Check for npm dependencies (if using npm)\nnpm audit\nnpm audit fix\n\n# Build static files (if using webpack/vite)\nnpm run build\n\n# Verify static files\nls -la staticfiles/\npython manage.py findstatic css/style.css\n```",
      "zh-Hans": "```bash\n# Check for npm dependencies (if using npm)\nnpm audit\nnpm audit fix\n\n# Build static files (if using webpack/vite)\nnpm run build\n\n# Verify static files\nls -la staticfiles/\npython manage.py findstatic css/style.css\n```"
    },
    {
      "en-US": "## Phase 9: Configuration Review",
      "zh-Hans": "## 阶段 9: 配置审查"
    },
    {
      "en-US": "```python\n# Run in Python shell to verify settings\npython manage.py shell << EOF\nfrom django.conf import settings\nimport os\n\n# Critical checks\nchecks = {\n    'DEBUG is False': not settings.DEBUG,\n    'SECRET_KEY set': bool(settings.SECRET_KEY and len(settings.SECRET_KEY) > 30),\n    'ALLOWED_HOSTS set': len(settings.ALLOWED_HOSTS) > 0,\n    'HTTPS enabled': getattr(settings, 'SECURE_SSL_REDIRECT', False),\n    'HSTS enabled': getattr(settings, 'SECURE_HSTS_SECONDS', 0) > 0,\n    'Database configured': settings.DATABASES['default']['ENGINE'] != 'django.db.backends.sqlite3',\n}\n\nfor check, result in checks.items():\n    status = '✓' if result else '✗'\n    print(f\"{status} {check}\")\nEOF\n```",
      "zh-Hans": "```python\n# Run in Python shell to verify settings\npython manage.py shell << EOF\nfrom django.conf import settings\nimport os\n\n# Critical checks\nchecks = {\n    'DEBUG is False': not settings.DEBUG,\n    'SECRET_KEY set': bool(settings.SECRET_KEY and len(settings.SECRET_KEY) > 30),\n    'ALLOWED_HOSTS set': len(settings.ALLOWED_HOSTS) > 0,\n    'HTTPS enabled': getattr(settings, 'SECURE_SSL_REDIRECT', False),\n    'HSTS enabled': getattr(settings, 'SECURE_HSTS_SECONDS', 0) > 0,\n    'Database configured': settings.DATABASES['default']['ENGINE'] != 'django.db.backends.sqlite3',\n}\n\nfor check, result in checks.items():\n    status = '✓' if result else '✗'\n    print(f\"{status} {check}\")\nEOF\n```"
    },
    {
      "en-US": "## Phase 10: Logging Configuration",
      "zh-Hans": "## 阶段 10: 日志配置"
    },
    {
      "en-US": "```bash\n# Test logging output\npython manage.py shell << EOF\nimport logging\nlogger = logging.getLogger('django')\nlogger.warning('Test warning message')\nlogger.error('Test error message')\nEOF\n\n# Check log files (if configured)\ntail -f /var/log/django/django.log\n```",
      "zh-Hans": "```bash\n# Test logging output\npython manage.py shell << EOF\nimport logging\nlogger = logging.getLogger('django')\nlogger.warning('Test warning message')\nlogger.error('Test error message')\nEOF\n\n# Check log files (if configured)\ntail -f /var/log/django/django.log\n```"
    },
    {
      "en-US": "## Phase 11: API Documentation (if DRF)",
      "zh-Hans": "## 阶段 11: API 文档（如果使用 DRF）"
    },
    {
      "en-US": "```bash\n# Generate schema\npython manage.py generateschema --format openapi-json > schema.json\n\n# Validate schema\n# Check if schema.json is valid JSON\npython -c \"import json; json.load(open('schema.json'))\"\n\n# Access Swagger UI (if using drf-yasg)\n# Visit http://localhost:8000/swagger/ in browser\n```",
      "zh-Hans": "```bash\n# Generate schema\npython manage.py generateschema --format openapi-json > schema.json\n\n# Validate schema\n# Check if schema.json is valid JSON\npython -c \"import json; json.load(open('schema.json'))\"\n\n# Access Swagger UI (if using drf-yasg)\n# Visit http://localhost:8000/swagger/ in browser\n```"
    },
    {
      "en-US": "## Phase 12: Diff Review",
      "zh-Hans": "## 阶段 12: 差异审查"
    },
    {
      "en-US": "```bash\n# Show diff statistics\ngit diff --stat\n\n# Show actual changes\ngit diff\n\n# Show changed files\ngit diff --name-only\n\n# Check for common issues\ngit diff | grep -i \"todo\\|fixme\\|hack\\|xxx\"\ngit diff | grep \"print(\"  # Debug statements\ngit diff | grep \"DEBUG = True\"  # Debug mode\ngit diff | grep \"import pdb\"  # Debugger\n```",
      "zh-Hans": "```bash\n# Show diff statistics\ngit diff --stat\n\n# Show actual changes\ngit diff\n\n# Show changed files\ngit diff --name-only\n\n# Check for common issues\ngit diff | grep -i \"todo\\|fixme\\|hack\\|xxx\"\ngit diff | grep \"print(\"  # Debug statements\ngit diff | grep \"DEBUG = True\"  # Debug mode\ngit diff | grep \"import pdb\"  # Debugger\n```"
    },
    {
      "en-US": "Checklist:",
      "zh-Hans": "检查清单："
    },
    {
      "en-US": "- No debugging statements (print, pdb, breakpoint())\n- No TODO/FIXME comments in critical code\n- No hardcoded secrets or credentials\n- Database migrations included for model changes\n- Configuration changes documented\n- Error handling present for external calls\n- Transaction management where needed",
      "zh-Hans": "* 无调试语句（print, pdb, breakpoint()）\n* 关键代码中无 TODO/FIXME 注释\n* 无硬编码的密钥或凭证\n* 模型更改包含数据库迁移\n* 配置更改已记录\n* 外部调用存在错误处理\n* 需要时已进行事务管理"
    },
    {
      "en-US": "## Output Template",
      "zh-Hans": "## 输出模板"
    },
    {
      "en-US": "```\nDJANGO VERIFICATION REPORT\n==========================\n\nPhase 1: Environment Check\n  ✓ Python 3.11.5\n  ✓ Virtual environment active\n  ✓ All environment variables set\n\nPhase 2: Code Quality\n  ✓ mypy: No type errors\n  ✗ ruff: 3 issues found (auto-fixed)\n  ✓ black: No formatting issues\n  ✓ isort: Imports properly sorted\n  ✓ manage.py check: No issues\n\nPhase 3: Migrations\n  ✓ No unapplied migrations\n  ✓ No migration conflicts\n  ✓ All models have migrations\n\nPhase 4: Tests + Coverage\n  Tests: 247 passed, 0 failed, 5 skipped\n  Coverage:\n    Overall: 87%\n    users: 92%\n    products: 89%\n    orders: 85%\n    payments: 91%\n\nPhase 5: Security Scan\n  ✗ pip-audit: 2 vulnerabilities found (fix required)\n  ✓ safety check: No issues\n  ✓ bandit: No security issues\n  ✓ No secrets detected\n  ✓ DEBUG = False\n\nPhase 6: Django Commands\n  ✓ collectstatic completed\n  ✓ Database integrity OK\n  ✓ Cache backend reachable\n\nPhase 7: Performance\n  ✓ No N+1 queries detected\n  ✓ Database indexes configured\n  ✓ Query count acceptable\n\nPhase 8: Static Assets\n  ✓ npm audit: No vulnerabilities\n  ✓ Assets built successfully\n  ✓ Static files collected\n\nPhase 9: Configuration\n  ✓ DEBUG = False\n  ✓ SECRET_KEY configured\n  ✓ ALLOWED_HOSTS set\n  ✓ HTTPS enabled\n  ✓ HSTS enabled\n  ✓ Database configured\n\nPhase 10: Logging\n  ✓ Logging configured\n  ✓ Log files writable\n\nPhase 11: API Documentation\n  ✓ Schema generated\n  ✓ Swagger UI accessible\n\nPhase 12: Diff Review\n  Files changed: 12\n  +450, -120 lines\n  ✓ No debug statements\n  ✓ No hardcoded secrets\n  ✓ Migrations included\n\nRECOMMENDATION: ⚠️ Fix pip-audit vulnerabilities before deploying\n\nNEXT STEPS:\n1. Update vulnerable dependencies\n2. Re-run security scan\n3. Deploy to staging for final testing\n```",
      "zh-Hans": "```\nDJANGO VERIFICATION REPORT\n==========================\n\nPhase 1: Environment Check\n  ✓ Python 3.11.5\n  ✓ Virtual environment active\n  ✓ All environment variables set\n\nPhase 2: Code Quality\n  ✓ mypy: No type errors\n  ✗ ruff: 3 issues found (auto-fixed)\n  ✓ black: No formatting issues\n  ✓ isort: Imports properly sorted\n  ✓ manage.py check: No issues\n\nPhase 3: Migrations\n  ✓ No unapplied migrations\n  ✓ No migration conflicts\n  ✓ All models have migrations\n\nPhase 4: Tests + Coverage\n  Tests: 247 passed, 0 failed, 5 skipped\n  Coverage:\n    Overall: 87%\n    users: 92%\n    products: 89%\n    orders: 85%\n    payments: 91%\n\nPhase 5: Security Scan\n  ✗ pip-audit: 2 vulnerabilities found (fix required)\n  ✓ safety check: No issues\n  ✓ bandit: No security issues\n  ✓ No secrets detected\n  ✓ DEBUG = False\n\nPhase 6: Django Commands\n  ✓ collectstatic completed\n  ✓ Database integrity OK\n  ✓ Cache backend reachable\n\nPhase 7: Performance\n  ✓ No N+1 queries detected\n  ✓ Database indexes configured\n  ✓ Query count acceptable\n\nPhase 8: Static Assets\n  ✓ npm audit: No vulnerabilities\n  ✓ Assets built successfully\n  ✓ Static files collected\n\nPhase 9: Configuration\n  ✓ DEBUG = False\n  ✓ SECRET_KEY configured\n  ✓ ALLOWED_HOSTS set\n  ✓ HTTPS enabled\n  ✓ HSTS enabled\n  ✓ Database configured\n\nPhase 10: Logging\n  ✓ Logging configured\n  ✓ Log files writable\n\nPhase 11: API Documentation\n  ✓ Schema generated\n  ✓ Swagger UI accessible\n\nPhase 12: Diff Review\n  Files changed: 12\n  +450, -120 lines\n  ✓ No debug statements\n  ✓ No hardcoded secrets\n  ✓ Migrations included\n\nRECOMMENDATION: ⚠️ Fix pip-audit vulnerabilities before deploying\n\nNEXT STEPS:\n1. Update vulnerable dependencies\n2. Re-run security scan\n3. Deploy to staging for final testing\n```"
    },
    {
      "en-US": "## Pre-Deployment Checklist",
      "zh-Hans": "## 预部署检查清单"
    },
    {
      "en-US": "- [ ] All tests passing\n- [ ] Coverage ≥ 80%\n- [ ] No security vulnerabilities\n- [ ] No unapplied migrations\n- [ ] DEBUG = False in production settings\n- [ ] SECRET_KEY properly configured\n- [ ] ALLOWED_HOSTS set correctly\n- [ ] Database backups enabled\n- [ ] Static files collected and served\n- [ ] Logging configured and working\n- [ ] Error monitoring (Sentry, etc.) configured\n- [ ] CDN configured (if applicable)\n- [ ] Redis/cache backend configured\n- [ ] Celery workers running (if applicable)\n- [ ] HTTPS/SSL configured\n- [ ] Environment variables documented",
      "zh-Hans": "* \\[ ] 所有测试通过\n* \\[ ] 覆盖率 ≥ 80%\n* \\[ ] 无安全漏洞\n* \\[ ] 无未应用的迁移\n* \\[ ] 生产设置中 DEBUG = False\n* \\[ ] SECRET\\_KEY 已正确配置\n* \\[ ] ALLOWED\\_HOSTS 设置正确\n* \\[ ] 数据库备份已启用\n* \\[ ] 静态文件已收集并提供服务\n* \\[ ] 日志配置正常且有效\n* \\[ ] 错误监控（Sentry 等）已配置\n* \\[ ] CDN 已配置（如果适用）\n* \\[ ] Redis/缓存后端已配置\n* \\[ ] Celery 工作进程正在运行（如果适用）\n* \\[ ] HTTPS/SSL 已配置\n* \\[ ] 环境变量已记录"
    },
    {
      "en-US": "## Continuous Integration",
      "zh-Hans": "## 持续集成"
    },
    {
      "en-US": "### GitHub Actions Example",
      "zh-Hans": "### GitHub Actions 示例"
    },
    {
      "en-US": "```yaml\n# .github/workflows/django-verification.yml\nname: Django Verification\n\non: [push, pull_request]\n\njobs:\n  verify:\n    runs-on: ubuntu-latest\n    services:\n      postgres:\n        image: postgres:14\n        env:\n          POSTGRES_PASSWORD: postgres\n        options: >-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Cache pip\n        uses: actions/cache@v3\n        with:\n          path: ~/.cache/pip\n          key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements.txt') }}\n\n      - name: Install dependencies\n        run: |\n          pip install -r requirements.txt\n          pip install ruff black mypy pytest pytest-django pytest-cov bandit safety pip-audit\n\n      - name: Code quality checks\n        run: |\n          ruff check .\n          black . --check\n          isort . --check-only\n          mypy .\n\n      - name: Security scan\n        run: |\n          bandit -r . -f json -o bandit-report.json\n          safety check --full-report\n          pip-audit\n\n      - name: Run tests\n        env:\n          DATABASE_URL: postgres://postgres:postgres@localhost:5432/test\n          DJANGO_SECRET_KEY: test-secret-key\n        run: |\n          pytest --cov=apps --cov-report=xml --cov-report=term-missing\n\n      - name: Upload coverage\n        uses: codecov/codecov-action@v3\n```",
      "zh-Hans": "```yaml\n# .github/workflows/django-verification.yml\nname: Django Verification\n\non: [push, pull_request]\n\njobs:\n  verify:\n    runs-on: ubuntu-latest\n    services:\n      postgres:\n        image: postgres:14\n        env:\n          POSTGRES_PASSWORD: postgres\n        options: >-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Cache pip\n        uses: actions/cache@v3\n        with:\n          path: ~/.cache/pip\n          key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements.txt') }}\n\n      - name: Install dependencies\n        run: |\n          pip install -r requirements.txt\n          pip install ruff black mypy pytest pytest-django pytest-cov bandit safety pip-audit\n\n      - name: Code quality checks\n        run: |\n          ruff check .\n          black . --check\n          isort . --check-only\n          mypy .\n\n      - name: Security scan\n        run: |\n          bandit -r . -f json -o bandit-report.json\n          safety check --full-report\n          pip-audit\n\n      - name: Run tests\n        env:\n          DATABASE_URL: postgres://postgres:postgres@localhost:5432/test\n          DJANGO_SECRET_KEY: test-secret-key\n        run: |\n          pytest --cov=apps --cov-report=xml --cov-report=term-missing\n\n      - name: Upload coverage\n        uses: codecov/codecov-action@v3\n```"
    },
    {
      "en-US": "## Quick Reference",
      "zh-Hans": "## 快速参考"
    },
    {
      "en-US": "| Check | Command |\n|-------|---------|\n| Environment | `python --version` |\n| Type checking | `mypy .` |\n| Linting | `ruff check .` |\n| Formatting | `black . --check` |\n| Migrations | `python manage.py makemigrations --check` |\n| Tests | `pytest --cov=apps` |\n| Security | `pip-audit && bandit -r .` |\n| Django check | `python manage.py check --deploy` |\n| Collectstatic | `python manage.py collectstatic --noinput` |\n| Diff stats | `git diff --stat` |",
      "zh-Hans": "| 检查项 | 命令 |\n|-------|---------|\n| 环境 | `python --version` |\n| 类型检查 | `mypy .` |\n| 代码检查 | `ruff check .` |\n| 格式化 | `black . --check` |\n| 迁移 | `python manage.py makemigrations --check` |\n| 测试 | `pytest --cov=apps` |\n| 安全 | `pip-audit && bandit -r .` |\n| Django 检查 | `python manage.py check --deploy` |\n| 收集静态文件 | `python manage.py collectstatic --noinput` |\n| 差异统计 | `git diff --stat` |"
    },
    {
      "en-US": "Remember: Automated verification catches common issues but doesn't replace manual code review and testing in staging environment.",
      "zh-Hans": "请记住：自动化验证可以发现常见问题，但不能替代在预发布环境中的手动代码审查和测试。"
    }
  ]
}