{
  "sourceFile": "skills/strategic-compact/SKILL.md",
  "sourceLanguage": "en-US",
  "entries": [
    {
      "en-US": "---\nname: strategic-compact\ndescription: Suggests manual context compaction at logical intervals to preserve context through task phases rather than arbitrary auto-compaction.\n---",
      "zh-Hans": "---\nname: strategic-compact\ndescription: 建议在逻辑间隔处进行手动上下文压缩，以在任务阶段中保留上下文，而非任意的自动压缩。\n---"
    },
    {
      "en-US": "# Strategic Compact Skill",
      "zh-Hans": "# 战略精简技能"
    },
    {
      "en-US": "Suggests manual `/compact` at strategic points in your workflow rather than relying on arbitrary auto-compaction.",
      "zh-Hans": "建议在你的工作流程中的战略节点手动执行 `/compact`，而不是依赖任意的自动精简。"
    },
    {
      "en-US": "## Why Strategic Compaction?",
      "zh-Hans": "## 为何采用战略精简？"
    },
    {
      "en-US": "Auto-compaction triggers at arbitrary points:",
      "zh-Hans": "自动精简会在任意时间点触发："
    },
    {
      "en-US": "- Often mid-task, losing important context\n- No awareness of logical task boundaries\n- Can interrupt complex multi-step operations",
      "zh-Hans": "* 通常在任务中途，丢失重要上下文\n* 无法感知逻辑任务边界\n* 可能中断复杂的多步骤操作"
    },
    {
      "en-US": "Strategic compaction at logical boundaries:",
      "zh-Hans": "在逻辑边界进行战略精简："
    },
    {
      "en-US": "- **After exploration, before execution** - Compact research context, keep implementation plan\n- **After completing a milestone** - Fresh start for next phase\n- **Before major context shifts** - Clear exploration context before different task",
      "zh-Hans": "* **探索之后，执行之前** - 精简研究上下文，保留实施计划\n* **完成一个里程碑之后** - 为下一阶段全新开始\n* **主要上下文切换之前** - 在不同任务开始前清理探索上下文"
    },
    {
      "en-US": "## How It Works",
      "zh-Hans": "## 工作原理"
    },
    {
      "en-US": "The `suggest-compact.sh` script runs on PreToolUse (Edit/Write) and:",
      "zh-Hans": "`suggest-compact.sh` 脚本在 PreToolUse（编辑/写入）时运行并执行："
    },
    {
      "en-US": "1. **Tracks tool calls** - Counts tool invocations in session\n2. **Threshold detection** - Suggests at configurable threshold (default: 50 calls)\n3. **Periodic reminders** - Reminds every 25 calls after threshold",
      "zh-Hans": "1. **追踪工具调用** - 计算会话中的工具调用次数\n2. **阈值检测** - 在可配置的阈值（默认：50 次调用）处建议精简\n3. **定期提醒** - 在达到阈值后，每 25 次调用提醒一次"
    },
    {
      "en-US": "## Hook Setup",
      "zh-Hans": "## 钩子设置"
    },
    {
      "en-US": "Add to your `~/.claude/settings.json`:",
      "zh-Hans": "添加到你的 `~/.claude/settings.json`："
    },
    {
      "en-US": "```json\n{\n  \"hooks\": {\n    \"PreToolUse\": [{\n      \"matcher\": \"tool == \\\"Edit\\\" || tool == \\\"Write\\\"\",\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"~/.claude/skills/strategic-compact/suggest-compact.sh\"\n      }]\n    }]\n  }\n}\n```",
      "zh-Hans": "```json\n{\n  \"hooks\": {\n    \"PreToolUse\": [{\n      \"matcher\": \"tool == \\\"Edit\\\" || tool == \\\"Write\\\"\",\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"~/.claude/skills/strategic-compact/suggest-compact.sh\"\n      }]\n    }]\n  }\n}\n```"
    },
    {
      "en-US": "## Configuration",
      "zh-Hans": "## 配置"
    },
    {
      "en-US": "Environment variables:",
      "zh-Hans": "环境变量："
    },
    {
      "en-US": "- `COMPACT_THRESHOLD` - Tool calls before first suggestion (default: 50)",
      "zh-Hans": "* `COMPACT_THRESHOLD` - 首次建议前的工具调用次数（默认：50）"
    },
    {
      "en-US": "## Best Practices",
      "zh-Hans": "## 最佳实践"
    },
    {
      "en-US": "1. **Compact after planning** - Once plan is finalized, compact to start fresh\n2. **Compact after debugging** - Clear error-resolution context before continuing\n3. **Don't compact mid-implementation** - Preserve context for related changes\n4. **Read the suggestion** - The hook tells you *when*, you decide *if*",
      "zh-Hans": "1. **规划后精简** - 一旦计划确定，精简以全新开始\n2. **调试后精简** - 在继续之前，清理错误解决上下文\n3. **不要在实施中途精简** - 保留相关更改的上下文\n4. **阅读建议** - 钩子告诉你*何时*，由你决定*是否*"
    },
    {
      "en-US": "## Related",
      "zh-Hans": "## 相关"
    },
    {
      "en-US": "- [The Longform Guide](https://x.com/affaanmustafa/status/2014040193557471352) - Token optimization section\n- Memory persistence hooks - For state that survives compaction",
      "zh-Hans": "* [长篇指南](https://x.com/affaanmustafa/status/2014040193557471352) - 令牌优化部分\n* 内存持久化钩子 - 用于在精简后保留的状态"
    }
  ]
}