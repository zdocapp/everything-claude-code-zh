{
  "sourceFile": "commands/update-docs.md",
  "sourceLanguage": "en-US",
  "entries": [
    {
      "en-US": "# Update Documentation",
      "zh-Hans": "# 更新文档"
    },
    {
      "en-US": "Sync documentation with the codebase, generating from source-of-truth files.",
      "zh-Hans": "将文档与代码库同步，从单一事实来源文件生成。"
    },
    {
      "en-US": "## Step 1: Identify Sources of Truth",
      "zh-Hans": "## 步骤 1：识别单一事实来源"
    },
    {
      "en-US": "| Source | Generates |\n|--------|-----------|\n| `package.json` scripts | Available commands reference |\n| `.env.example` | Environment variable documentation |\n| `openapi.yaml` / route files | API endpoint reference |\n| Source code exports | Public API documentation |\n| `Dockerfile` / `docker-compose.yml` | Infrastructure setup docs |",
      "zh-Hans": "| 来源 | 生成内容 |\n|--------|-----------|\n| `package.json` 脚本 | 可用命令参考 |\n| `.env.example` | 环境变量文档 |\n| `openapi.yaml` / 路由文件 | API 端点参考 |\n| 源代码导出 | 公共 API 文档 |\n| `Dockerfile` / `docker-compose.yml` | 基础设施设置文档 |"
    },
    {
      "en-US": "## Step 2: Generate Script Reference",
      "zh-Hans": "## 步骤 2：生成脚本参考"
    },
    {
      "en-US": "1. Read `package.json` (or `Makefile`, `Cargo.toml`, `pyproject.toml`)\n2. Extract all scripts/commands with their descriptions\n3. Generate a reference table:",
      "zh-Hans": "1. 读取 `package.json` (或 `Makefile`, `Cargo.toml`, `pyproject.toml`)\n2. 提取所有脚本/命令及其描述\n3. 生成参考表格："
    },
    {
      "en-US": "```markdown\n| Command | Description |\n|---------|-------------|\n| `npm run dev` | Start development server with hot reload |\n| `npm run build` | Production build with type checking |\n| `npm test` | Run test suite with coverage |\n```",
      "zh-Hans": "```markdown\n| Command | Description |\n|---------|-------------|\n| `npm run dev` | 启动带热重载的开发服务器 |\n| `npm run build` | 执行带类型检查的生产构建 |\n| `npm test` | 运行带覆盖率测试的测试套件 |\n```"
    },
    {
      "en-US": "## Step 3: Generate Environment Documentation",
      "zh-Hans": "## 步骤 3：生成环境文档"
    },
    {
      "en-US": "1. Read `.env.example` (or `.env.template`, `.env.sample`)\n2. Extract all variables with their purposes\n3. Categorize as required vs optional\n4. Document expected format and valid values",
      "zh-Hans": "1. 读取 `.env.example` (或 `.env.template`, `.env.sample`)\n2. 提取所有变量及其用途\n3. 按必需项与可选项分类\n4. 记录预期格式和有效值"
    },
    {
      "en-US": "```markdown\n| Variable | Required | Description | Example |\n|----------|----------|-------------|---------|\n| `DATABASE_URL` | Yes | PostgreSQL connection string | `postgres://user:pass@host:5432/db` |\n| `LOG_LEVEL` | No | Logging verbosity (default: info) | `debug`, `info`, `warn`, `error` |\n```",
      "zh-Hans": "```markdown\n| 变量 | 必需 | 描述 | 示例 |\n|----------|----------|-------------|---------|\n| `DATABASE_URL` | 是 | PostgreSQL 连接字符串 | `postgres://user:pass@host:5432/db` |\n| `LOG_LEVEL` | 否 | 日志详细程度（默认：info） | `debug`, `info`, `warn`, `error` |\n```"
    },
    {
      "en-US": "## Step 4: Update Contributing Guide",
      "zh-Hans": "## 步骤 4：更新贡献指南"
    },
    {
      "en-US": "Generate or update `docs/CONTRIBUTING.md` with:",
      "zh-Hans": "生成或更新 `docs/CONTRIBUTING.md`，包含："
    },
    {
      "en-US": "- Development environment setup (prerequisites, install steps)\n- Available scripts and their purposes\n- Testing procedures (how to run, how to write new tests)\n- Code style enforcement (linter, formatter, pre-commit hooks)\n- PR submission checklist",
      "zh-Hans": "* 开发环境设置（先决条件、安装步骤）\n* 可用脚本及其用途\n* 测试流程（如何运行、如何编写新测试）\n* 代码风格强制（linter、formatter、预提交钩子）\n* PR 提交清单"
    },
    {
      "en-US": "## Step 5: Update Runbook",
      "zh-Hans": "## 步骤 5：更新运行手册"
    },
    {
      "en-US": "Generate or update `docs/RUNBOOK.md` with:",
      "zh-Hans": "生成或更新 `docs/RUNBOOK.md`，包含："
    },
    {
      "en-US": "- Deployment procedures (step-by-step)\n- Health check endpoints and monitoring\n- Common issues and their fixes\n- Rollback procedures\n- Alerting and escalation paths",
      "zh-Hans": "* 部署流程（逐步说明）\n* 健康检查端点和监控\n* 常见问题及其修复方法\n* 回滚流程\n* 告警和升级路径"
    },
    {
      "en-US": "## Step 6: Staleness Check",
      "zh-Hans": "## 步骤 6：检查文档时效性"
    },
    {
      "en-US": "1. Find documentation files not modified in 90+ days\n2. Cross-reference with recent source code changes\n3. Flag potentially outdated docs for manual review",
      "zh-Hans": "1. 查找 90 天以上未修改的文档文件\n2. 与最近的源代码变更进行交叉引用\n3. 标记可能过时的文档以供人工审核"
    },
    {
      "en-US": "## Step 7: Show Summary",
      "zh-Hans": "## 步骤 7：显示摘要"
    },
    {
      "en-US": "```\nDocumentation Update\n──────────────────────────────\nUpdated:  docs/CONTRIBUTING.md (scripts table)\nUpdated:  docs/ENV.md (3 new variables)\nFlagged:  docs/DEPLOY.md (142 days stale)\nSkipped:  docs/API.md (no changes detected)\n──────────────────────────────\n```",
      "zh-Hans": "```\nDocumentation Update\n──────────────────────────────\nUpdated:  docs/CONTRIBUTING.md (scripts table)\nUpdated:  docs/ENV.md (3 new variables)\nFlagged:  docs/DEPLOY.md (142 days stale)\nSkipped:  docs/API.md (no changes detected)\n──────────────────────────────\n```"
    },
    {
      "en-US": "## Rules",
      "zh-Hans": "## 规则"
    },
    {
      "en-US": "- **Single source of truth**: Always generate from code, never manually edit generated sections\n- **Preserve manual sections**: Only update generated sections; leave hand-written prose intact\n- **Mark generated content**: Use `<!-- AUTO-GENERATED -->` markers around generated sections\n- **Don't create docs unprompted**: Only create new doc files if the command explicitly requests it",
      "zh-Hans": "* **单一事实来源**：始终从代码生成，切勿手动编辑生成的部分\n* **保留手动编写部分**：仅更新生成的部分；保持手写内容不变\n* **标记生成的内容**：在生成的部分周围使用 `<!-- AUTO-GENERATED -->` 标记\n* **不主动创建文档**：仅在命令明确要求时才创建新的文档文件"
    }
  ]
}