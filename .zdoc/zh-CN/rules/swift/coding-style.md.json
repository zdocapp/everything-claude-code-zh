{
  "sourceFile": "rules/swift/coding-style.md",
  "sourceLanguage": "en-US",
  "entries": [
    {
      "en-US": "---\npaths:\n  - \"**/*.swift\"\n  - \"**/Package.swift\"\n---",
      "zh-Hans": "---\npaths:\n  - \"**/*.swift\"\n  - \"**/Package.swift\"\n---"
    },
    {
      "en-US": "# Swift Coding Style",
      "zh-Hans": "# Swift 编码风格"
    },
    {
      "en-US": "> This file extends [common/coding-style.md](../common/coding-style.md) with Swift specific content.",
      "zh-Hans": "> 本文件在 [common/coding-style.md](../common/coding-style.md) 的基础上扩展了 Swift 相关的内容。"
    },
    {
      "en-US": "## Formatting",
      "zh-Hans": "## 格式化"
    },
    {
      "en-US": "- **SwiftFormat** for auto-formatting, **SwiftLint** for style enforcement\n- `swift-format` is bundled with Xcode 16+ as an alternative",
      "zh-Hans": "* **SwiftFormat** 用于自动格式化，**SwiftLint** 用于风格检查\n* `swift-format` 已作为替代方案捆绑在 Xcode 16+ 中"
    },
    {
      "en-US": "## Immutability",
      "zh-Hans": "## 不变性"
    },
    {
      "en-US": "- Prefer `let` over `var` — define everything as `let` and only change to `var` if the compiler requires it\n- Use `struct` with value semantics by default; use `class` only when identity or reference semantics are needed",
      "zh-Hans": "* 优先使用 `let` 而非 `var` — 将所有内容定义为 `let`，仅在编译器要求时才改为 `var`\n* 默认使用具有值语义的 `struct`；仅在需要标识或引用语义时才使用 `class`"
    },
    {
      "en-US": "## Naming",
      "zh-Hans": "## 命名"
    },
    {
      "en-US": "Follow [Apple API Design Guidelines](https://www.swift.org/documentation/api-design-guidelines/):",
      "zh-Hans": "遵循 [Apple API 设计指南](https://www.swift.org/documentation/api-design-guidelines/)："
    },
    {
      "en-US": "- Clarity at the point of use — omit needless words\n- Name methods and properties for their roles, not their types\n- Use `static let` for constants over global constants",
      "zh-Hans": "* 在使用时保持清晰 — 省略不必要的词语\n* 根据方法和属性的作用而非类型来命名\n* 对于常量，使用 `static let` 而非全局常量"
    },
    {
      "en-US": "## Error Handling",
      "zh-Hans": "## 错误处理"
    },
    {
      "en-US": "Use typed throws (Swift 6+) and pattern matching:",
      "zh-Hans": "使用类型化 throws (Swift 6+) 和模式匹配："
    },
    {
      "en-US": "```swift\nfunc load(id: String) throws(LoadError) -> Item {\n    guard let data = try? read(from: path) else {\n        throw .fileNotFound(id)\n    }\n    return try decode(data)\n}\n```",
      "zh-Hans": "```swift\nfunc load(id: String) throws(LoadError) -> Item {\n    guard let data = try? read(from: path) else {\n        throw .fileNotFound(id)\n    }\n    return try decode(data)\n}\n```"
    },
    {
      "en-US": "## Concurrency",
      "zh-Hans": "## 并发"
    },
    {
      "en-US": "Enable Swift 6 strict concurrency checking. Prefer:",
      "zh-Hans": "启用 Swift 6 严格并发检查。优先使用："
    },
    {
      "en-US": "- `Sendable` value types for data crossing isolation boundaries\n- Actors for shared mutable state\n- Structured concurrency (`async let`, `TaskGroup`) over unstructured `Task {}`",
      "zh-Hans": "* `Sendable` 值类型用于跨越隔离边界的数据\n* Actors 用于共享可变状态\n* 结构化并发 (`async let`, `TaskGroup`) 而非非结构化的 `Task {}`"
    }
  ]
}